<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>ТПР КР</title>
    <link rel="stylesheet" type="text/css" href="../shared/example.css">
    <link rel="stylesheet" type="text/css" href="slider.css">

    <!-- GC -->

    <script type="text/javascript" src="../../examples/shared/include-ext.js"></script>
    <script type="text/javascript" src="../../examples/shared/options-toolbar.js"></script>
    <script type="text/javascript" src="app.js"></script>
	
	<style>
	   .gradient1 {
		background: #FFFFFF; 
		background: linear-gradient(to left, #ADD8E6, #FF0000);
		padding: 10px;
	   }
    </style>
	
    <style>
	   .gradient2 {
		background: #FFFFFF; 
		background: linear-gradient(to right, #ADD8E6, #FF0000);
		padding: 10px;
	   }
    </style>
	
</head>
<body>
    
	<table>
		<tr>
			<td>
				<h4>Set ratio "Price-Color": </h4>
				<span class="gradient1" style="padding:0px 50px;">Price</span><span class="gradient2" style="padding:0px 50px;">Color</span>
				<div id="custom-tip-slider1"></div>
				<br/>
			</td>
			
			<td>
				<h4>Set ratio "Price-Speed": </h4>
				<span class="gradient1" style="padding:0px 50px;">Price&nbsp;</span><span class="gradient2" style="padding:0px 50px;">Speed</span>
				<div id="custom-tip-slider2"></div>
				<br/>
			</td>
			
			<td>
				<h4>Set ratio "Speed-Color": </h4>
				<span class="gradient1" style="padding:0px 50px;">Speed</span><span class="gradient2" style="padding:0px 50px;">Color&nbsp;&nbsp;</span>
				<div id="custom-tip-slider3"></div>
				<br/>
			</td>
		</tr>
	</table>
	
	<p>
		Выше предоставлены слайдеры, с помощью которых можно менять<br>
		соотношения между критериями <q>цена</q>, <q>скорость</q> и <q>цвет.</q>
	</p>
	<p>
		Для проведения необходимых вычислений нажмите на кнопку ниже. <br>
		Результатом работы программного продукта является таблица 3х4, <br>
		в четвертом столбце которой находятся <q>важности критериев</q>.
	</p>
	
	
	<p><input type = "button" value = "Recalculate document" onclick="ReCalculate();"></p>
	
	<!-- extra space for scrolling -->
    <div style="height:150px;"></div>
	
	
<script language = "JavaScript">

	function ReCalculate()
	{
		var RatioData = [
				['Price', 1, a, b, Math.pow((1*a*b), (1/3)).toFixed(2)],
				['Color', (1-a).toFixed(2), 1, (1-c).toFixed(2),Math.pow(((1-a)*1*(1-c)), (1/3)).toFixed(2)],
				['Speed', (1-b).toFixed(2), c, 1, Math.pow(((1-b)*c*1), (1/3)).toFixed(2)]
			];
		var fields = [
				{name: 'none'},
				{name: 'price', type: 'float'},
				{name: 'color', type: 'float'},
				{name: 'speed', type: 'float'},
				{name: 'criterionImportance', type: 'float'}
			];
		var col =  [
				{
					text: ' ',
					dataIndex: 'none'
				},{
					text: 'Price',       
					dataIndex: 'price'  
				},{
					text: 'Color',
					dataIndex: 'color'
				},{
					text: 'Speed',
					dataIndex: 'speed'
				},{
					text: 'Criterion importance',
					dataIndex: 'criterionImportance'
				}
			];
		var store = Ext.create('Ext.data.ArrayStore', {
				fields: fields,  
				data: RatioData     
			});

		var grid = Ext.create('Ext.grid.Panel', {
				store: store,              
				title: '',        
				columns:col                 
			});

		var	win1 = Ext.create('widget.window', {
					title: 'Веса критериев и их важность',
					closeAction: 'hide',
					width: 550,
					height: 150,
					items: [grid]
			});
		win1.show();
	}
</script>
	
</body>
</html>